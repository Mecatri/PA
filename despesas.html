<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Controle de Gastos - Casamento Â· Modern</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
:root{
Â  Â  --bg:#fbfaf7;
Â  Â  --card:#ffffff;
Â  Â  --muted:#7a7a7a;
Â  Â  --accent:#8B5E3C;
Â  Â  --accent-2:#D9B873;
Â  Â  --success:#3a9d56;
Â  Â  --danger:#c9302c;
Â  Â  --warn:#c87f00;
Â  Â  --shadow:0 8px 24px rgba(22,22,22,0.08);
Â  Â  --radius:14px;
}

*{box-sizing:border-box;}
html,body{height:100%;}
body{
Â  Â  margin:0;
Â  Â  font-family:'Poppins',system-ui;
Â  Â  /* Usei uma cor sÃ³lida para garantir que a imagem nÃ£o atrapalhe a comparaÃ§Ã£o */
Â  Â  background-color: var(--bg);
Â  Â  color:#222;
Â  Â  padding:20px;
}

/* container */
.container{
Â  Â  max-width:1100px;
Â  Â  margin:0 auto;
Â  Â  background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(255,255,255,0.96));
Â  Â  border-radius:18px;
Â  Â  padding:20px;
Â  Â  box-shadow:var(--shadow);
}

/* header */
.header{text-align:center;margin-bottom:14px;}
.header h1{
Â  Â  margin:0;
Â  Â  font-family:'Playfair Display',serif;
Â  Â  font-size:1.6rem;
Â  Â  color:var(--accent);
}
.header p{margin:6px 0 0;color:var(--muted);}

/* SUMMARY */
.summary{
Â  Â  display:flex;
Â  Â  flex-wrap:wrap;
Â  Â  gap:12px;
Â  Â  margin:18px 0;
}
.card{
Â  Â  background:var(--card);
Â  Â  border-radius:12px;
Â  Â  padding:12px 14px;
Â  Â  box-shadow:0 6px 18px rgba(20,20,20,0.05);
Â  Â  flex:1 1 30%;
Â  Â  min-width:180px;
Â  Â  display:flex;
Â  Â  flex-direction:column;
Â  Â  gap:6px;
}
.card .label{font-weight:600;color:var(--muted);font-size:0.9rem;}
.card .value{font-weight:800;font-size:1.15rem;color:var(--accent);}
.card.pago .value{color:#d9534f;}
.card.apagar .value{color:var(--accent-2);}
.card.geral .value{color:var(--success);}
.btn-edit-orc{
Â  Â  background:linear-gradient(90deg,var(--accent),#6f4a2f);
Â  Â  color:white;border:none;padding:8px 10px;border-radius:10px;cursor:pointer;
Â  Â  box-shadow:0 6px 12px rgba(139,94,60,0.12);font-weight:700;
}

/* FORM */
.form{
Â  Â  background:linear-gradient(180deg,#fff,#fbfbfb);
Â  Â  border-radius:12px;
Â  Â  padding:14px;
Â  Â  display:grid;
Â  Â  gap:10px;
Â  Â  box-shadow:0 6px 14px rgba(18,18,18,0.03);
}
.form-grid{display:grid;gap:10px;}
@media (min-width:900px){.form-grid{grid-template-columns:1fr 1fr 1fr 1fr 200px;}}
@media (max-width:899px){.form-grid{grid-template-columns:1fr 1fr;}}
@media (max-width:520px){.form-grid{grid-template-columns:1fr;}}

.input, select{
Â  Â  padding:10px 12px;
Â  Â  border-radius:10px;
Â  Â  border:1px solid #e6e6e6;
Â  Â  font-size:0.95rem;
Â  Â  background:#fff;
Â  Â  width:100%;
}
.btn-primary{
Â  Â  background:linear-gradient(90deg,var(--accent-2),#cd9f52);
Â  Â  border:none;
Â  Â  color:#fff;
Â  Â  padding:10px 12px;
Â  Â  border-radius:12px;
Â  Â  font-weight:800;
Â  Â  cursor:pointer;
Â  Â  box-shadow:0 6px 14px rgba(205,159,82,0.16);
}

/* TABLE */
.table-wrap{margin-top:18px;}
table{width:100%;border-collapse:collapse;min-width:720px;}
th,td{padding:12px 10px;text-align:left;border-bottom:1px solid #f1f1f1;font-size:0.95rem;}
th{background:var(--accent);color:white;font-weight:700;}
.row-action{
Â  Â  display:flex;
Â  Â  flex-direction:column;
Â  Â  gap:6px;
Â  Â  justify-content:center;
Â  Â  align-items:flex-end;
}
.btn-small{
Â  Â  padding:6px 10px;
Â  Â  border-radius:8px;
Â  Â  border:none;
Â  Â  cursor:pointer;
Â  Â  font-weight:700;
Â  Â  font-size:0.9rem;
Â  Â  min-width:70px;
Â  Â  text-align:center;
}
.btn-edit{background:#fff7ec;color:#8b5e3c;}
.btn-delete{background:#fff0f0;color:var(--danger);}

/* alert */
.alert-orange td{background:#fff7ee;color:var(--warn);font-weight:700;}
.alert-red td{background:#fff0f0;color:var(--danger);font-weight:700;}

/* MOBILE CORRIGIDO */
@media (max-width:760px){
Â  Â  table,thead,tbody,th,td,tr{display:block;}
Â  Â  thead{display:none;}
Â  Â  /* O TR Ã© o cartÃ£o */
Â  Â  tr{margin:10px 0;background:#fff;border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(10,10,10,0.03);}
Â  Â  td{border:none;padding:8px 6px;}
Â  Â  td::before{
Â  Â  Â  Â  content:attr(data-label);
Â  Â  Â  Â  display:inline-block;
Â  Â  Â  Â  width:120px;
Â  Â  Â  Â  font-weight:700;
Â  Â  Â  Â  color:var(--muted);
Â  Â  }
Â  Â  
Â  Â  /* CORREÃ‡ÃƒO 1: Layout da cÃ©lula de AÃ§Ãµes */
Â  Â  .row-action{
Â  Â  Â  Â  flex-direction:row; /* Alinha horizontalmente */
Â  Â  Â  Â  justify-content:center; /* Centraliza os botÃµes */
Â  Â  Â  Â  gap:10px; /* Mais espaÃ§o entre os botÃµes */
Â  Â  Â  Â  margin-top:10px;
Â  Â  Â  Â  align-items:center;
Â  Â  }
Â  Â  .btn-small{
Â  Â  Â  Â  font-size:0.85rem;
Â  Â  }

Â  Â  /* CORREÃ‡ÃƒO 2: Garante que a Ãºltima cÃ©lula (AÃ§Ãµes) no mobile ocupe 100% da largura */
Â  Â  td:last-child {
Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  width: 100%; 
Â  Â  }

Â  Â  /* CORREÃ‡ÃƒO 3: Oculta a data no mobile, como na imagem */
Â  Â  td[data-label="Data"] {
Â  Â  Â  Â  display: none;
Â  Â  }

Â  Â  /* CORREÃ‡ÃƒO 4: Garante que as cores de alerta sejam aplicadas corretamente */
Â  Â  .alert-red {
Â  Â  Â  Â  background-color: var(--danger) !important; 
Â  Â  Â  Â  color: white !important; /* Texto branco no fundo vermelho */
Â  Â  }
Â  Â  .alert-orange {
Â  Â  Â  Â  background-color: var(--warn) !important;
Â  Â  Â  Â  color: #222 !important; /* Cor mais escura no fundo laranja */
Â  Â  }

Â  Â  .alert-red td, .alert-orange td {
Â  Â  Â  Â  background: transparent !important; /* Garante que a cÃ©lula nÃ£o sobreponha a cor do TR */
Â  Â  Â  Â  color: inherit !important;
Â  Â  }
Â  Â  .alert-red td::before, .alert-orange td::before {
Â  Â  Â  Â  color: inherit !important;
Â  Â  }
}
/* FIM MOBILE CORRIGIDO */
</style>
</head>
<body>
<div class="container">
Â  Â  <div class="header">
Â  Â  Â  Â  <h1>ğŸ’ Controle de Gastos do Casamento</h1>
Â  Â  Â  Â  <p class="small">Resumo financeiro, vencimentos e gerenciamento â€” moderno e responsivo.</p>
Â  Â  </div>

Â  Â  <section class="summary">
Â  Â  Â  Â  <div class="card pago"><div class="label">Pago â€” Noivo</div><div class="value" id="total-pago-noivo">R$ 0,00</div></div>
Â  Â  Â  Â  <div class="card pago"><div class="label">Pago â€” Noiva</div><div class="value" id="total-pago-noiva">R$ 0,00</div></div>
Â  Â  Â  Â  <div class="card geral"><div class="label">Total Pago</div><div class="value" id="total-pago-geral">R$ 0,00</div></div>
Â  Â  Â  Â  <div class="card apagar"><div class="label">A Pagar â€” Noivo</div><div class="value" id="total-apagar-noivo">R$ 0,00</div></div>
Â  Â  Â  Â  <div class="card apagar"><div class="label">A Pagar â€” Noiva</div><div class="value" id="total-apagar-noiva">R$ 0,00</div></div>
Â  Â  Â  Â  <div class="card apagar"><div class="label">Total a Pagar</div><div class="value" id="total-apagar-geral">R$ 0,00</div></div>
Â  Â  </section>

Â  Â  <form id="form" class="form">
Â  Â  Â  Â  <div class="form-grid">
Â  Â  Â  Â  Â  Â  <input id="item" class="input" type="text" placeholder="Item" required />
Â  Â  Â  Â  Â  Â  <input id="valor" class="input" type="number" min="0" step="0.01" placeholder="Valor (R$)" required />
Â  Â  Â  Â  Â  Â  <select id="status" class="input" required>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="" disabled selected>Status</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Pago">Pago</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="A Pagar">A Pagar</option>
Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  <select id="responsavel" class="input" required>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="" disabled selected>ResponsÃ¡vel</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Noivo">Noivo</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Noiva">Noiva</option>
Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  <input id="data" class="input" type="date" placeholder="Data" />
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <button type="submit" class="btn-primary">Adicionar Gasto</button>
Â  Â  </form>

Â  Â  <div class="table-wrap">
Â  Â  Â  Â  <table id="tabela">
Â  Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  Â  Â  <tr><th>Item</th><th>Valor</th><th>Status</th><th>ResponsÃ¡vel</th><th>Data</th><th>AÃ§Ãµes</th></tr>
Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  <tbody></tbody>
Â  Â  Â  Â  </table>
Â  Â  </div>
</div>

<div class="modal-backdrop" id="modal-backdrop">
Â  Â  <div class="modal">
Â  Â  Â  Â  <h3>Editar LanÃ§amento</h3>
Â  Â  Â  Â  <div class="row">
Â  Â  Â  Â  Â  Â  <div><label class="small">Item</label><input id="edit-item" class="input" type="text" /></div>
Â  Â  Â  Â  Â  Â  <div><label class="small">Valor</label><input id="edit-valor" class="input" type="number" min="0" step="0.01" /></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="row">
Â  Â  Â  Â  Â  Â  <div><label class="small">Status</label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="edit-status" class="input"><option>Pago</option><option>A Pagar</option></select></div>
Â  Â  Â  Â  Â  Â  <div><label class="small">ResponsÃ¡vel</label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="edit-resp" class="input"><option>Noivo</option><option>Noiva</option></select></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <label class="small">Data</label><input id="edit-data" class="input" type="date" />
Â  Â  Â  Â  <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:14px;">
Â  Â  Â  Â  Â  Â  <button id="cancel-edit" class="btn-small" style="background:#f0f0f0;">Cancelar</button>
Â  Â  Â  Â  Â  Â  <button id="save-edit" class="btn-primary">Salvar</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
</div>

<script>
let gastos=[
    {item:'Buffet',valor:40000.00,status:'A Pagar',responsavel:'Noivo',data:'2026-03-20'},
    {item:'Vestido',valor:8000.00,status:'Pago',responsavel:'Noiva',data:''}
]; // Adicionei dados de exemplo para teste
const ids={
Â  Â  tabelaBody:document.querySelector('#tabela tbody'),
Â  Â  totalPagoNoivo:document.getElementById('total-pago-noivo'),
Â  Â  totalPagoNoiva:document.getElementById('total-pago-noiva'),
Â  Â  totalPagoGeral:document.getElementById('total-pago-geral'),
Â  Â  totalApagarNoivo:document.getElementById('total-apagar-noivo'),
Â  Â  totalApagarNoiva:document.getElementById('total-apagar-noiva'),
Â  Â  totalApagarGeral:document.getElementById('total-apagar-geral'),
Â  Â  form:document.getElementById('form'),
Â  Â  itemIn:document.getElementById('item'),
Â  Â  valorIn:document.getElementById('valor'),
Â  Â  statusIn:document.getElementById('status'),
Â  Â  respIn:document.getElementById('responsavel'),
Â  Â  dataIn:document.getElementById('data'),
Â  Â  modalBackdrop:document.getElementById('modal-backdrop'),
Â  Â  editItem:document.getElementById('edit-item'),
Â  Â  editValor:document.getElementById('edit-valor'),
Â  Â  editStatus:document.getElementById('edit-status'),
Â  Â  editResp:document.getElementById('edit-resp'),
Â  Â  editData:document.getElementById('edit-data'),
Â  Â  saveEditBtn:document.getElementById('save-edit'),
Â  Â  cancelEditBtn:document.getElementById('cancel-edit')
};

function formatBRL(v){return Number(v||0).toLocaleString('pt-BR',{style:'currency',currency:'BRL'});}
function render(){
Â  Â  ids.tabelaBody.innerHTML='';
Â  Â  let pagoNoivo=0,pagoNoiva=0,apagarNoivo=0,apagarNoiva=0;
Â  Â  const hoje=new Date();hoje.setHours(0,0,0,0);
Â  Â  gastos.forEach((g,idx)=>{
Â  Â  Â  Â  const val=Number(g.valor||0);
Â  Â  Â  Â  if(g.status==="Pago"){g.responsavel==="Noivo"?pagoNoivo+=val:pagoNoiva+=val;}
Â  Â  Â  Â  else{g.responsavel==="Noivo"?apagarNoivo+=val:apagarNoiva+=val;}
Â  Â  Â  Â  const tr=document.createElement('tr');
Â  Â  Â  Â  let alertClass='';
Â  Â  Â  Â  if(g.status==="A Pagar"&&g.data){
Â  Â  Â  Â  Â  Â  // Adicionar 'T00:00:00' para evitar problemas de fuso horÃ¡rio
Â  Â  Â  Â  Â  Â  const dt=new Date(g.data + 'T00:00:00'); 
Â  Â  Â  Â  Â  Â  const diffDays=Math.ceil((dt-hoje)/(1000*60*60*24));
Â  Â  Â  Â  Â  Â  if(diffDays<0)alertClass='alert-red';else if(diffDays<=7)alertClass='alert-orange';
Â  Â  Â  Â  }
Â  Â  Â  Â  if(alertClass)tr.classList.add(alertClass);
Â  Â  Â  Â  
Â  Â  Â  Â  // Corrigido a formataÃ§Ã£o da data para o formato esperado (DD/MM/AAAA)
Â  Â  Â  Â  const dataFormatada = g.data ? (new Date(g.data + 'T00:00:00')).toLocaleDateString('pt-BR') : '-';
Â  Â  Â  Â  
Â  Â  Â  Â  tr.innerHTML=`
Â  Â  Â  Â  <td data-label="Item">${g.item}</td>
Â  Â  Â  Â  <td data-label="Valor">${formatBRL(g.valor)}</td>
Â  Â  Â  Â  <td data-label="Status">${g.status}</td>
Â  Â  Â  Â  <td data-label="ResponsÃ¡vel">${g.responsavel}</td>
Â  Â  Â  Â  <td data-label="Data">${dataFormatada}</td>
Â  Â  Â  Â  <td data-label="AÃ§Ãµes"><div class="row-action">
Â  Â  Â  Â  Â  Â  <button class="btn-small btn-edit" type="button" onclick="openEditModal(${idx})">Editar</button>
Â  Â  Â  Â  Â  Â  <button class="btn-small btn-delete" type="button" onclick="removeItem(${idx})">Remover</button>
Â  Â  Â  Â  </div></td>`;
Â  Â  Â  Â  ids.tabelaBody.appendChild(tr);
Â  Â  });
Â  Â  ids.totalPagoNoivo.textContent=formatBRL(pagoNoivo);
Â  Â  ids.totalPagoNoiva.textContent=formatBRL(pagoNoiva);
Â  Â  ids.totalPagoGeral.textContent=formatBRL(pagoNoivo+pagoNoiva);
Â  Â  ids.totalApagarNoivo.textContent=formatBRL(apagarNoivo);
Â  Â  ids.totalApagarNoiva.textContent=formatBRL(apagarNoiva);
Â  Â  ids.totalApagarGeral.textContent=formatBRL(apagarNoivo+apagarNoiva);
}

ids.form.addEventListener('submit',ev=>{
Â  Â  ev.preventDefault();
Â  Â  const item=ids.itemIn.value.trim(),valor=parseFloat(ids.valorIn.value),
Â  Â  status=ids.statusIn.value,resp=ids.respIn.value,data=ids.dataIn.value||'';
Â  Â  if(!item||isNaN(valor)||valor<=0||!status||!resp)return alert('Preencha todos os campos.');
Â  Â  if(status==='A Pagar'&&!data)return alert('Informe a data para "A Pagar".');
Â  Â  gastos.push({item,valor,status,responsavel:resp,data});
Â  Â  ids.form.reset();render();
});
function removeItem(i){if(confirm('Remover este lanÃ§amento?')){gastos.splice(i,1);render();}}
let editingIndex=null;
function openEditModal(i){
Â  Â  editingIndex=i;const g=gastos[i];
Â  Â  ids.editItem.value=g.item;ids.editValor.value=g.valor;ids.editStatus.value=g.status;ids.editResp.value=g.responsavel;ids.editData.value=g.data;
Â  Â  ids.modalBackdrop.style.display='flex';
}
ids.cancelEditBtn.onclick=()=>ids.modalBackdrop.style.display='none';
ids.saveEditBtn.onclick=()=>{
Â  Â  const i=editingIndex;if(i===null)return;
Â  Â  
Â  Â  const novoItem = ids.editItem.value.trim();
Â  Â  const novoValor = parseFloat(ids.editValor.value);
Â  Â  const novoStatus = ids.editStatus.value;
Â  Â  const novaData = ids.editData.value;
Â  Â  
Â  Â  // RevalidaÃ§Ãµes
Â  Â  if(!novoItem || isNaN(novoValor) || novoValor <= 0) return alert('Verifique os campos Item e Valor.');
Â  Â  if(novoStatus === 'A Pagar' && !novaData) return alert('Informe a data para status "A Pagar".');
Â  Â  
Â  Â  gastos[i].item=novoItem;
Â  Â  gastos[i].valor=novoValor;
Â  Â  gastos[i].status=novoStatus;
Â  Â  gastos[i].responsavel=ids.editResp.value;
Â  Â  gastos[i].data=novaData;
Â  Â  
Â  Â  ids.modalBackdrop.style.display='none';
Â  Â  render();
};
render();
</script>
</body>
</html>
