<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíç Controle de Gastos do Casamento</title>
<style>
    :root {
        --cor-principal: #8B4513;
        --cor-secundaria: #F0E68C;
        --fundo-claro: #FFF8DC;
        --fundo-escuro: #fafafa;
        --sombra: 0 4px 10px rgba(0,0,0,0.1);
        --radius: 10px;
    }

    body {
        font-family: 'Poppins', sans-serif;
        margin: 0;
        background: var(--fundo-claro);
        background-image: url('https://i.imgur.com/e2oWjXn.jpg');
        background-size: cover;
        background-attachment: fixed;
        background-position: center;
        color: #333;
    }

    .container {
        background-color: rgba(255,255,255,0.95);
        max-width: 1000px;
        margin: 20px auto;
        padding: 20px;
        border-radius: var(--radius);
        box-shadow: var(--sombra);
    }

    h1, h2 {
        text-align: center;
        color: var(--cor-principal);
        font-family: 'Playfair Display', serif;
    }

    .resumo {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
    }

    .total-box {
        background: var(--fundo-escuro);
        padding: 15px;
        border-radius: var(--radius);
        text-align: center;
        box-shadow: var(--sombra);
        font-weight: bold;
    }

    .total-box strong {
        display: block;
        font-size: 1.4em;
        margin-top: 5px;
        color: var(--cor-principal);
    }

    .total-gasto strong { color: #d9534f; }
    .total-apagar strong { color: #f0ad4e; }
    .total-planejado strong { color: #5cb85c; }

    .total-planejado button {
        background: linear-gradient(90deg, var(--cor-principal), #a0522d);
        border: none;
        color: white;
        padding: 6px 12px;
        border-radius: 5px;
        cursor: pointer;
        transition: 0.3s;
        font-size: 0.9em;
    }

    .total-planejado button:hover {
        opacity: 0.85;
    }

    /* Formul√°rio */
    #form-gasto {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        background: var(--fundo-escuro);
        padding: 15px;
        border-radius: var(--radius);
        margin-bottom: 20px;
    }

    #form-gasto input, #form-gasto select, #form-gasto button {
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 1em;
    }

    #form-gasto button {
        grid-column: 1 / -1;
        background: linear-gradient(90deg, var(--cor-principal), #a0522d);
        color: white;
        cursor: pointer;
        font-weight: bold;
        transition: 0.3s;
    }

    #form-gasto button:hover {
        opacity: 0.85;
    }

    /* Tabela (Desktop) */
    table {
        width: 100%;
        border-collapse: collapse;
        display: table;
    }

    th, td {
        padding: 10px;
        border: 1px solid #ddd;
        text-align: left;
    }

    th {
        background: var(--cor-principal);
        color: white;
    }

    tr:nth-child(even) {
        background: var(--fundo-escuro);
    }

    .btn {
        border: none;
        border-radius: 5px;
        cursor: pointer;
        padding: 6px 10px;
        color: white;
        font-weight: bold;
        margin: 2px;
        transition: 0.3s;
    }

    .btn-edit { background: #0275d8; }
    .btn-remove { background: #d9534f; }

    .btn:hover { opacity: 0.85; }

    /* Cart√µes no mobile */
    @media (max-width: 700px) {
        table, thead, tbody, th, td, tr {
            display: block;
        }

        thead { display: none; }

        tr {
            background: white;
            margin-bottom: 10px;
            border-radius: var(--radius);
            box-shadow: var(--sombra);
            padding: 10px;
        }

        td {
            border: none;
            display: flex;
            justify-content: space-between;
            padding: 5px 10px;
        }

        td::before {
            content: attr(data-label);
            font-weight: bold;
            color: var(--cor-principal);
        }

        .btn-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 5px;
        }
    }

    /* Alertas de prazo */
    .alerta-laranja {
        background-color: #fff3cd !important;
    }

    .alerta-vermelho {
        background-color: #f8d7da !important;
    }
</style>
</head>
<body>
<div class="container">
    <h1>üíç Controle de Gastos do Casamento ü•Ç</h1>

    <h2>Resumo Financeiro</h2>
    <div class="resumo">
        <div class="total-box total-gasto">Pago - Noivo<strong id="pago-noivo">R$ 0,00</strong></div>
        <div class="total-box total-gasto">Pago - Noiva<strong id="pago-noiva">R$ 0,00</strong></div>
        <div class="total-box total-apagar">A Pagar - Noivo<strong id="apagar-noivo">R$ 0,00</strong></div>
        <div class="total-box total-apagar">A Pagar - Noiva<strong id="apagar-noiva">R$ 0,00</strong></div>
        <div class="total-box total-gasto">Total Pago<strong id="total-pago">R$ 0,00</strong></div>
        <div class="total-box total-apagar total-planejado">
            Or√ßamento Planejado<strong id="orcamento-planejado">R$ 60.000,00</strong>
            <button id="btn-editar-orcamento">Editar</button>
        </div>
    </div>

    <h2>Adicionar Gasto</h2>
    <form id="form-gasto">
        <input type="text" id="item" placeholder="Item" required>
        <input type="number" id="valor" placeholder="Valor (R$)" step="0.01" required>
        <input type="date" id="data" required>
        <select id="status" required>
            <option value="" disabled selected>Status</option>
            <option value="Pago">Pago</option>
            <option value="A Pagar">A Pagar</option>
        </select>
        <select id="responsavel" required>
            <option value="" disabled selected>Respons√°vel</option>
            <option value="Noivo">Noivo</option>
            <option value="Noiva">Noiva</option>
        </select>
        <button type="submit">Adicionar</button>
    </form>

    <h2>Detalhes dos Gastos</h2>
    <table id="tabela-gastos">
        <thead>
            <tr>
                <th>Item</th>
                <th>Valor</th>
                <th>Data</th>
                <th>Status</th>
                <th>Respons√°vel</th>
                <th>A√ß√µes</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<script>
let orcamentoTotal = 60000.00;
let gastos = [
    { item: "Buffet", valor: 7500, data: "2025-12-01", status: "Pago", responsavel: "Noivo" },
    { item: "Vestido", valor: 8500, data: "2025-11-20", status: "A Pagar", responsavel: "Noiva" }
];

const tbody = document.querySelector('#tabela-gastos tbody');
const orcamentoPlanejado = document.getElementById('orcamento-planejado');
const btnEditarOrcamento = document.getElementById('btn-editar-orcamento');
const form = document.getElementById('form-gasto');

function formatar(valor){return valor.toLocaleString('pt-BR',{style:'currency',currency:'BRL'});}

function atualizarTabela(){
    tbody.innerHTML='';
    let totalPagoNoivo=0,totalPagoNoiva=0,apagarNoivo=0,apagarNoiva=0;

    gastos.forEach((g,i)=>{
        const tr=document.createElement('tr');
        let classe='';
        if(g.status==="A Pagar"){
            const diff=(new Date(g.data)-new Date())/(1000*60*60*24);
            if(diff<0) classe='alerta-vermelho';
            else if(diff<=7) classe='alerta-laranja';
        }
        tr.className=classe;
        tr.innerHTML=`
            <td data-label="Item">${g.item}</td>
            <td data-label="Valor">${formatar(g.valor)}</td>
            <td data-label="Data">${g.data}</td>
            <td data-label="Status">${g.status}</td>
            <td data-label="Respons√°vel">${g.responsavel}</td>
            <td data-label="A√ß√µes">
                <div class="btn-container">
                    <button class="btn btn-edit" onclick="editarGasto(${i})">Editar</button>
                    <button class="btn btn-remove" onclick="removerGasto(${i})">Remover</button>
                </div>
            </td>`;
        tbody.appendChild(tr);

        if(g.status==="Pago"){
            if(g.responsavel==="Noivo") totalPagoNoivo+=g.valor;
            else totalPagoNoiva+=g.valor;
        }else{
            if(g.responsavel==="Noivo") apagarNoivo+=g.valor;
            else apagarNoiva+=g.valor;
        }
    });

    document.getElementById('pago-noivo').textContent=formatar(totalPagoNoivo);
    document.getElementById('pago-noiva').textContent=formatar(totalPagoNoiva);
    document.getElementById('apagar-noivo').textContent=formatar(apagarNoivo);
    document.getElementById('apagar-noiva').textContent=formatar(apagarNoiva);
    document.getElementById('total-pago').textContent=formatar(totalPagoNoivo+totalPagoNoiva);
    orcamentoPlanejado.textContent=formatar(orcamentoTotal);
}

function editarOrcamento(){
    let novo=prompt("Novo valor do or√ßamento:",orcamentoTotal);
    if(novo){orcamentoTotal=parseFloat(novo);atualizarTabela();}
}

function removerGasto(i){
    if(confirm("Remover este gasto?")){gastos.splice(i,1);atualizarTabela();}
}

function editarGasto(i){
    const g=gastos[i];
    let item=prompt("Item:",g.item);
    let valor=parseFloat(prompt("Valor:",g.valor));
    let data=prompt("Data (YYYY-MM-DD):",g.data);
    let status=prompt("Status (Pago/A Pagar):",g.status);
    let resp=prompt("Respons√°vel (Noivo/Noiva):",g.responsavel);
    if(item&&valor&&data&&status&&resp){
        gastos[i]={item,valor,data,status,responsavel:resp};
        atualizarTabela();
    }
}

form.addEventListener('submit',e=>{
    e.preventDefault();
    let item=form.item.value.trim();
    let valor=parseFloat(form.valor.value);
    let data=form.data.value;
    let status=form.status.value;
    let responsavel=form.responsavel.value;
    if(item&&valor>0&&data&&status&&responsavel){
        gastos.push({item,valor,data,status,responsavel});
        form.reset();
        atualizarTabela();
    }
});

btnEditarOrcamento.onclick=editarOrcamento;
document.addEventListener('DOMContentLoaded',atualizarTabela);
</script>
</body>
</html>
